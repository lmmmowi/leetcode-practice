// 260. 只出现一次的数字 III[https://leetcode.cn/problems/single-number-iii/]
package main

func main() {
	singleNumber([]int{1193730082, 587035181, -814709193, 1676831308, -511259610, 284593787, -2058511940, 1970250135, -814709193, -1435587299, 1308886332, -1435587299, 1676831308, 1403943960, -421534159, -528369977, -2058511940, 1636287980, -1874234027, 197290672, 1976318504, -511259610, 1308886332, 336663447, 1636287980, 197290672, 1970250135, 1976318504, 959128864, 284593787, -528369977, -1874234027, 587035181, -421534159, -786223891, 933046536, 959112204, 336663447, 933046536, 959112204, 1193730082, -786223891})
}

func singleNumber(nums []int) []int {
	a := 0
	for _, num := range nums {
		a ^= num
	}

	m := 0
	for a&1 == 0 {
		a >>= 1
		m++
	}
	b := 1 << m

	v1 := 0
	v2 := 0
	for _, num := range nums {
		if b&num == 0 {
			v1 ^= num
		} else {
			v2 ^= num
		}
	}

	return []int{v1, v2}
}
